RewriteEngine On
RewriteBase /

# 1. Jika ini proses kirim data (POST), biarkan apa adanya
RewriteCond %{REQUEST_METHOD} POST
RewriteRule ^ - [L]

# 2. Jika user mengetik .php di browser, hilangkan secara otomatis (Redirect)
# KECUALIKAN edit_lkh.php dari aturan redirect agar data ID tidak hilang saat simpan
RewriteCond %{REQUEST_URI} !edit_lkh\.php [NC]
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s/+(.+)\.php [NC]
RewriteRule ^ /%1 [R=301,L,QSA]

# 3. Jika user mengakses tanpa .php, arahkan secara internal ke file .php yang sesuai
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^([^/]+)$ $1.php [NC,L,QSA]